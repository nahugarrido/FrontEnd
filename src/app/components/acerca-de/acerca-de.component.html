<!-- BANNER  -->
<section
  class="container-flex mx-3 justify-content-center banner-container grey-container"
>
  <div
    class="col-sm-12 d-none d-sm-block"
    id="img-banner-container"
    *ngFor="let persona of persona"
  >
    <img
      src="{{ persona.img_banner }}"
      alt="banner"
      id="banner"
      accept="image/*"
    />
  </div>
</section>

<!-- BOTON BANNER -->
<section class="container-flex">
  <div class="col-sm-12 d-none d-sm-block my-4">
    <div class="d-flex justify-content-center homebutton">
      <a href="#aboutme">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="48"
          height="48"
          fill="currentColor"
          class="bi bi-arrow-down-circle-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"
          />
        </svg>
      </a>
    </div>
  </div>
</section>

<!-- SPINNER -->
<div class="page-overlay-wrapper" *ngIf="loading">
  <h3>Nahuel Garrido</h3><br>
  <div class="loader">
    <div class="loader-square"></div>
    <div class="loader-square"></div>
    <div class="loader-square"></div>
    <div class="loader-square"></div>
    <div class="loader-square"></div>
    <div class="loader-square"></div>
    <div class="loader-square"></div>
  </div>
  <br>
  <span>Esta cargando... :(</span>
  <span>( hosting gratuito )</span>
</div>

<!-- ACERCA DE -->
<section class="container-flex mx-4 my-4 pb-4" id="aboutme">
  <div class="row" *ngFor="let persona of persona">
    <div class="col-sm-3 col-md-3 d-md-block pt-3">
      <div class="d-flex justify-content-center">
        <div class="profile-container">
          <img
            src="{{ persona.img }}"
            alt="Foto perfil"
            accept="image/*"
            class="rounded-circle profile-img"
          />
        </div>
      </div>
      <div class="profile-text">
        <span class="bold">{{ persona.puesto }}</span>
        <p>{{ persona.nombre }} {{ persona.apellido }}</p>
        <div class="tools-edit">
          <svg
            data-bs-toggle="modal"
            (click)="openEdit(contentEdit, persona)"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="currentColor"
            class="bi bi-pencil-square"
            viewBox="0 0 16 16"
          >
            <path
              d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
            />
            <path
              fill-rule="evenodd"
              d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
            />
          </svg>
        </div>
      </div>
    </div>
    <div class="col-sm-9 d-sm-block">
      <div class="row">
        <div class="d-flex justify-content-between">
          <h1>Sobre mi</h1>
          <div class="tools-edit">
            <svg
              data-bs-toggle="modal"
              (click)="openEdit(contentEdit2, persona)"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="currentColor"
              class="bi bi-pencil-square"
              viewBox="0 0 16 16"
            >
              <path
                d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
              />
              <path
                fill-rule="evenodd"
                d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
              />
            </svg>
            <svg
              data-bs-toggle="modal"
              (click)="openEdit(contentEdit3, persona)"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="currentColor"
              class="bi bi-image"
              viewBox="0 0 16 16"
            >
              <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" />
              <path
                d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"
              />
            </svg>
          </div>
        </div>
      </div>
      <div class="acerca-text">
        <p>
          {{ persona.descripcion }}
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Modal Editar Perfil-->
<ng-template #contentEdit let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title2">Editar: Perfil</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="editForm" novalidate>
      <div class="form-group">
        <label for="apellido">Apellido:</label>
        <div class="input-group">
          <input
            formControlName="apellido"
            placeholder="Introduzca sus apellidos"
            class="form-control"
          />
        </div>
      </div>
      <div class="form-group">
        <label for="nombre">Nombre:</label>
        <div class="input-group">
          <input
            formControlName="nombre"
            placeholder="Introduzca sus nombres"
            class="form-control"
          />
        </div>
      </div>
      <div class="form-group">
        <label for="puesto">Puesto:</label>
        <div class="input-group">
          <input
            formControlName="puesto"
            placeholder="Ejemplo: Full Stack Developer Jr"
            class="form-control"
          />
        </div>
      </div>
      <div class="form-group">
        <label for="img">Imagen:</label>
        <div class="input-group">
          <input
            type="file"
            alife-file-to-base64
            (onFileChanged)="onFileChanged($event)"
            class="form-control"
          />
        </div>
      </div>
    </form>
    <div class="modal-footer editfoot">
      <button
        type="button"
        class="btn btn-outline-primary"
        (click)="modal.close('Save click')"
      >
        Cancelar
      </button>
      <button
        *ngIf="isAdmin"
        data-dismiss="modal"
        class="btn btn-primary"
        (click)="onSave()"
      >
        Guardar Cambios
      </button>
      <button
        *ngIf="!isAdmin"
        data-dismiss="modal"
        class="btn btn-primary"
        (click)="modal.dismiss('Cross click')"
        (click)="open(noAuthorized)"
      >
        Guardar Cambios
      </button>
    </div>
  </div>
</ng-template>

<!-- Modal Editar Elemento-->
<ng-template #contentEdit2 let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title2">Editar: Sobre mi</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="editForm" novalidate>
      <div class="form-group">
        <label for="descripcion">Descripción:</label>
        <div class="input-group">
          <textarea
            rows="6"
            formControlName="descripcion"
            placeholder="Ejemplo: Mi nombre es Juan Pablo soy una persona muy simpatica y desde siempre me han fascinado los peces dorados."
            class="form-control"
          ></textarea>
        </div>
      </div>
    </form>
    <div class="modal-footer editfoot">
      <button
        type="button"
        class="btn btn-outline-primary"
        (click)="modal.close('Save click')"
      >
        Cancelar
      </button>
      <button
        *ngIf="isAdmin"
        data-dismiss="modal"
        class="btn btn-primary"
        (click)="onSave()"
      >
        Guardar Cambios
      </button>
      <button
        *ngIf="!isAdmin"
        data-dismiss="modal"
        class="btn btn-primary"
        (click)="modal.dismiss('Cross click')"
        (click)="open(noAuthorized)"
      >
        Guardar Cambios
      </button>
    </div>
  </div>
</ng-template>

<!-- Modal Editar Elemento (banner)-->
<ng-template #contentEdit3 let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Editar: Banner</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="editForm" novalidate>
      <div class="form-group">
        <label for="banner_img">Imagen:</label>
        <div class="input-group">
          <input
            type="file"
            alife-file-to-base64
            (onFileChanged)="onFileChanged2($event)"
            class="form-control"
          />
        </div>
      </div>
    </form>
    <div class="modal-footer editfoot">
      <button
        type="button"
        class="btn btn-outline-primary"
        (click)="modal.close('Save click')"
      >
        Cancelar
      </button>
      <button
        *ngIf="isAdmin"
        data-dismiss="modal"
        class="btn btn-primary"
        (click)="onSave()"
      >
        Guardar Cambios
      </button>
      <button
        *ngIf="!isAdmin"
        data-dismiss="modal"
        class="btn btn-primary"
        (click)="modal.dismiss('Cross click')"
        (click)="open(noAuthorized)"
      >
        Guardar Cambios
      </button>
    </div>
  </div>
</ng-template>

<ng-template #noAuthorized let-modal>
  <div class="modal-header">
    <h5 class="modal-title">Usuario no autorizado</h5>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <p>Debes ser administrador para realizar esta operación.</p>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-outline-danger"
      (click)="modal.close('Save click')"
    >
      Cerrar
    </button>
  </div>
</ng-template>
